@use "sass:math";

// ---------------- VARIABLES ----------------
$color-header: #0a5bb8;       // bleu professionnel
$color-menu: #f2c94c;         // jaune or
$color-content: #f9f9f9;      // gris clair
$color-footer: #1c1c1e;       // gris foncé
$color-footer-hover: #f2c94c; // couleur accent
$color-menu-text: #222222;
$color-footer-text: #ffffff;
$color-label-bg: rgba(0, 0, 0, 0.5);

$gap: 1rem;
$tile-radius: 0.5rem;
$tile-aspect-ratio: math.div(3, 4);


// ---------------- MIXINS ----------------
@mixin flex-center($direction: row, $justify: center, $align: center) {
  display: flex;
  flex-direction: $direction;
  justify-content: $justify;
  align-items: $align;
}

@mixin hover-scale($scale: 1.05, $transition: 0.3s) {
  transition: all $transition ease;
  &:hover {
    transform: scale($scale);
  }
}

@mixin transition($property: all, $duration: 0.3s, $ease: ease) {
  transition: $property $duration $ease;
}

// ---------------- GRID PRINCIPALE ----------------
.grid {
  display: grid;
  grid-template-columns: 14rem 1fr;
  grid-template-rows: auto 1fr auto;
  grid-template-areas:
    "header header"
    "menu content"
    "footer footer";
  height: 100vh;
  overflow: hidden;
}

// ---------------- HEADER ----------------
.header {
  grid-area: header;
  background: $color-header;
  padding: $gap * 1.5;
  color: #ffffff;
  @include flex-center(row, center, center);
  font-weight: 700;
  position: sticky;
  top: 0;
  z-index: 10;
  text-align: center;
}

// ---------------- MENU ----------------
.menu {
  grid-area: menu;
  background: $color-menu;
  padding: $gap;
  position: sticky;
  top: 0;
  height: calc(100vh - 3rem);
  overflow-y: auto;

  ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: $gap * 0.75;
  }

  a {
    @include flex-center(row, flex-start, center);
    gap: $gap * 0.75;
    color: $color-menu-text;
    text-decoration: none;
    font-weight: 600;
    @include transition();

    img {
      width: 3rem;
      height: 3rem;
      object-fit: contain;
      border-radius: $tile-radius;
      @include transition();
    }

    &:hover {
      color: $color-header;
      transform: scale(1.05);

      img {
        filter: brightness(1.2);
      }
    }
  }
}

// ---------------- CONTENT ----------------
.content {
  grid-area: content;
  background: $color-content;
  padding: $gap;
  overflow-y: auto;
  padding-bottom: $gap * 8;
}

// ---------------- TUILES (SPRITE SHEET) ----------------
.tiles {
  display: flex;
  flex-wrap: wrap;
  gap: $gap;
  align-items: flex-start;
  justify-content: flex-start;

  .tile {
    flex: 1 1 calc(25% - $gap);
    aspect-ratio: $tile-aspect-ratio;
    background-image: url("../../img/sprite_grid.jpg");
    background-size: 400% 300%;
    background-repeat: no-repeat;
    border-radius: $tile-radius;
    overflow: hidden;
    position: relative;
    cursor: pointer;
    display: block;
    color: inherit;
    text-decoration: none;
    @include transition();

    &:hover {
      transform: scale(1.05);
      box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.3);
    }

    .label {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: $gap * 0.5 $gap * 0.75;
      color: #ffffff;
      font-size: 0.9rem;
      text-align: center;
      background: $color-label-bg;
    }
  }
}

// ---------------- POSITIONS SPRITE ----------------
.p1  { background-position: 33.33% 100%; }
.p2  { background-position: 0% 100%; }
.p3  { background-position: 33.33% 50%; }
.p4  { background-position: 0% 50%; }
.p5  { background-position: 66.66% 50%; }
.p6  { background-position: 0% 0%; }
.p7  { background-position: 66.66% 100%; }
.p8  { background-position: 100% 50%; }
.p9  { background-position: 100% 0%; }
.p10 { background-position: 100% 100%; }
.p11 { background-position: 66.66% 0%; }
.p12 { background-position: 33.33% 0%; }


// ---------------- FOOTER ----------------
.footer {
  grid-area: footer;
  background-color: $color-footer;
  color: $color-footer-text;
  @include flex-center(row, center, center);
  padding: $gap;
  position: sticky;
  bottom: 0;
  text-align: center;

  a {
    color: $color-footer-text;
    text-decoration: none;
    @include transition(color);

    &:hover {
      color: $color-footer-hover;
      text-decoration: underline;
    }
  }
}

// ---------------- RESPONSIVE ----------------
@media (max-width:45rem) {
  .grid {
    grid-template-columns: 1fr;
    grid-template-areas:
      "header"
      "content"
      "footer";
  }
   .menu { display: none; }

  .tile { min-width: calc(50% - $gap);}

  .label { display: none; }

  .footer { padding:($gap * 0.75);}

}

